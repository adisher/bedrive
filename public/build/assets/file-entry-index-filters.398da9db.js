import{r as h,b7 as Ze,b8 as ht,$ as ee,b9 as It,a,j as P,c as R,A as xe,ba as sn,l as ue,h as K,bb as rn,g as Y,bc as Ye,bd as an,be as Pt,m as I,bf as Ie,bg as on,bh as mt,bi as pt,R as fe,i as ln,a2 as Te,a7 as $e,aX as Rt,aY as Et,a5 as ae,bj as cn,bk as un,bl as Je,bm as J,bn as Le,bo as He,bp as pe,bq as ge,br as Pe,bs as Re,bt as Nt,e as ye,bu as Me,k as Fe,bv as ce,bw as dn,bx as fn,by as hn,bz as mn,bA as pn,bB as gn,bC as bn,u as Tt,aT as vn,bD as $t,bE as xn,ak as yn,al as wn,T as A,n as et,U as tt,B as te,D as Oe,p as nt,t as st,a9 as we,bF as Ee,X as kn,bG as Cn,a1 as Mt,bH as Dn,aB as Sn,bI as In,aS as Ft,bJ as Pn,a3 as Ot,a8 as oe,bK as Rn,z as ie,s as At,v as W,bL as En,ap as zt,I as Ae,b as Vt,d as ze,S as Nn,y as rt,W as Tn,_ as $n,bM as Mn,aR as Fn,bN as On,bO as An,aA as at,K as ot,bP as zn,q as Vn,o as Ln,F as Hn,f as _n,Z as Lt,bQ as Un,bR as We,bS as Bn,b1 as Kn}from"./main.fcd554a6.js";import{E as jn,C as qn}from"./Edit.5be662f9.js";const lt=h.exports.createContext(null);function Yn(){h.exports.useEffect(()=>(document.documentElement.classList.add("no-page-overflow"),()=>{document.documentElement.classList.remove("no-page-overflow")}),[])}function ua({children:e,leftSidenavStatus:t,onLeftSidenavChange:n,rightSidenavStatus:s,initialRightSidenavStatus:r,onRightSidenavChange:o,name:l,leftSidenavCanBeCompact:i,height:u="h-full",...d}){Yn();const c=Ze("(max-width: 1024px)"),f=h.exports.useMemo(()=>l?ht(`${l}.sidenav.compact`):!1,[l])?"compact":"open",[m,b]=ee(t,c?"closed":f,n),w=h.exports.useMemo(()=>{if(c)return"closed";if(r!=null)return r;const D=ht(`${l}.sidenav.right.position`,"open");return D!=null?D:r||"closed"},[c,l,r]),[x,g]=ee(s,w,o),y=h.exports.useCallback(D=>{g(D),It(`${l}.sidenav.right.position`,D)},[g,l]),C=c&&(m==="open"||x==="open");return a(lt.Provider,{value:{leftSidenavStatus:m,setLeftSidenavStatus:b,rightSidenavStatus:x,setRightSidenavStatus:y,leftSidenavCanBeCompact:i,name:l,isMobileMode:c},children:P("div",{...d,className:R("dashboard-grid test-overflow relative isolate",u),children:[e,a(xe,{children:C&&a(sn,{position:"fixed",onClick:()=>{b("closed"),y("closed")}},"dashboard-underlay")})]})})}function da({children:e}){return h.exports.cloneElement(e,{className:R(e.props.className,"dashboard-grid-content overflow-y-auto stable-scrollbar")})}function fa({className:e,position:t,children:n,size:s="md",mode:r,overlayPosition:o="fixed",display:l="flex",forceClosed:i=!1}){const{isMobileMode:u,leftSidenavStatus:d,setLeftSidenavStatus:c,rightSidenavStatus:p,setRightSidenavStatus:f}=h.exports.useContext(lt),m=t==="left"?d:p,b=u||r==="overlay",w={open:{display:l,width:null},compact:{display:l,width:null},closed:{width:0,transitionEnd:{display:"none"}}},x=Wn(m==="compact"?"compact":s);return a(ue.div,{variants:w,initial:!1,animate:i?"closed":m,transition:{type:"tween",duration:.15},onClick:g=>{const y=g.target;u&&(y.closest("button")||y.closest("a"))&&(c("closed"),f("closed"))},className:R(e,t==="left"?"dashboard-grid-sidenav-left":"dashboard-grid-sidenav-right","overflow-hidden will-change-[width]",x,b&&`${o} top-0 bottom-0 z-20 shadow-2xl`,b&&t==="left"&&"left-0",b&&t==="right"&&"right-0"),children:h.exports.cloneElement(n,{className:R(n.props.className,"w-full h-full",m==="compact"&&"compact-scrollbar"),isCompactMode:m==="compact"})})}function Wn(e){switch(e){case"compact":return"w-80";case"sm":return"w-224";case"md":return"w-240";case"lg":return"w-288";default:return e||""}}const Gn=K(a("path",{d:"M3 18h13v-2H3v2zm0-5h10v-2H3v2zm0-7v2h13V6H3zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5L21 15.59z"}),"MenuOpenOutlined");function ha({children:e,className:t,hideToggleButton:n,...s}){const{isMobileMode:r,leftSidenavStatus:o,setLeftSidenavStatus:l,name:i,leftSidenavCanBeCompact:u}=h.exports.useContext(lt),d=u&&!r,c=!n&&(r||u),p=()=>{l(o==="open"?"closed":"open")},f=()=>{const m=o==="compact"?"open":"compact";It(`${i}.sidenav.compact`,m==="compact"),l(m)};return a(rn,{className:R("dashboard-grid-navbar",t),border:"border-b",size:"sm",color:"primary",darkModeColor:"bg-alt",toggleButton:c?a(Y,{size:"md",onClick:()=>{d?f():p()},children:a(Gn,{})}):void 0,...s,children:e})}var _=(e=>(e.Select="select",e.DateRangePicker="dateRangePicker",e.SelectModel="selectModel",e.Input="input",e.BooleanToggle="booleanToggle",e.ChipField="chipField",e.Custom="custom",e))(_||{}),be=(e=>(e.eq="=",e.ne="!=",e.gt=">",e.gte=">=",e.lt="<",e.lte="<=",e.has="has",e.hasAll="hasAll",e.doesntHave="doesntHave",e.between="between",e))(be||{});function Ht(e){return e.set({hour:0,minute:0,second:0,millisecond:0})}function j(e){return e.set({hour:24-1,minute:60-1,second:60-1,millisecond:1e3-1})}function Xn(){var n;const e=Ye().settings.dates.default_timezone,t=((n=Ye().user)==null?void 0:n.timezone)||e||"auto";return!t||t==="auto"?an():t}const V=Ht(Pt(Xn()));var St;const _e=((St=Ye().i18n)==null?void 0:St.language)||"en",it=[{key:0,label:I("Today"),getRangeValue:()=>({preset:0,start:V,end:j(V)})},{key:1,label:I("Yesterday"),getRangeValue:()=>({preset:1,start:V.subtract({days:1}),end:j(V).subtract({days:1})})},{key:2,label:I("This week"),getRangeValue:()=>({preset:2,start:Ie(V,_e),end:on(j(V),_e)})},{key:3,label:I("Last week"),getRangeValue:()=>{const e=Ie(V,_e).subtract({days:7});return{preset:3,start:e,end:e.add({days:6})}}},{key:4,label:I("Last 7 days"),getRangeValue:()=>({preset:4,start:V.subtract({days:7}),end:j(V)})},{key:5,label:I("Last 14 days"),getRangeValue:()=>({preset:5,start:V.subtract({days:14}),end:j(V)})},{key:6,label:I("Last 30 days"),getRangeValue:()=>({preset:6,start:V.subtract({days:30}),end:j(V)})},{key:7,label:I("Last 3 months"),getRangeValue:()=>({preset:7,start:V.subtract({months:3}),end:j(V)})},{key:8,label:I("Last 12 months"),getRangeValue:()=>({preset:8,start:V.subtract({months:12}),end:j(V)})},{key:9,label:I("This year"),getRangeValue:()=>({preset:9,start:mt(V),end:pt(j(V))})},{key:10,label:I("Last year"),getRangeValue:()=>({preset:10,start:mt(V).subtract({years:1}),end:pt(j(V)).subtract({years:1})})}],_t=K(a("path",{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}),"DateRangeOutlined"),Ut=fe.forwardRef((e,t)=>{const{children:n,inputProps:s,wrapperProps:r,className:o,autoFocus:l,style:i,onClick:u}=e;return a("div",{...r,onClick:u,children:a("div",{...s,role:"group",className:R(o,"flex items-center focus-within:ring focus-within:ring-primary/focus focus-within:border-primary/60"),ref:t,style:i,children:a(ln,{autoFocus:l,children:n})})})}),ct=fe.forwardRef(({inputRef:e,wrapperProps:t,children:n,onBlur:s,...r},o)=>{const l=Te(r),i=$e(o),{fieldProps:u,inputProps:d}=Rt({...r,focusRef:i,labelElementType:"span"});return l.wrapper=R(l.wrapper,r.disabled&&"pointer-events-none"),a(Et,{wrapperProps:ae(t,{onBlur:c=>{i.current.contains(c.relatedTarget)||s==null||s(c)},onClick:()=>{cn(i).focusFirst()}}),fieldClassNames:l,ref:i,...u,children:a(Ut,{inputProps:d,className:R(l.input,"gap-10"),ref:e,children:n})})});function Qn(e){return e instanceof un?"day":"minute"}function Ge(e,t,n){return t!=null&&e.compare(t)<0||n!=null&&e.compare(n)>0}function Bt(e,t){var d;const n=Je(),[s,r]=h.exports.useState(!1),o=(d=t.closeDialogOnSelection)!=null?d:!0,l=t.granularity||Qn(e),i=t.min?J(t.min,n):void 0,u=t.max?J(t.max,n):void 0;return{timezone:n,granularity:l,min:i,max:u,calendarIsOpen:s,setCalendarIsOpen:r,closeDialogOnSelection:o}}function ut(){const e=Je();return h.exports.useMemo(()=>Pt(e),[e])}function Zn(e){var Q,E;const t=ut(),[n,s]=h.exports.useState({start:(!e.value||!e.value.start)&&!((Q=e.defaultValue)!=null&&Q.start),end:(!e.value||!e.value.end)&&!((E=e.defaultValue)!=null&&E.end)}),r=e.onChange,[o,l]=ee(e.value?Be(e.value,t):void 0,e.value?void 0:Be(e.defaultValue,t),e.onChange),{min:i,max:u,granularity:d,timezone:c,calendarIsOpen:p,setCalendarIsOpen:f,closeDialogOnSelection:m}=Bt(o.start,e),b=h.exports.useCallback(()=>{s({start:!0,end:!0}),l(Be(null,t)),r==null||r(null),f(!1)},[t,l,r,f]),[w,x]=h.exports.useState(null),[g,y]=h.exports.useState(!1),[C,D]=h.exports.useState(o),[T,$]=h.exports.useState(()=>gt(o,u)),v=h.exports.useCallback(S=>{let F=S.start,H=S.end;i&&(F=Le(F,i));const U=u?He(u,H):H;F=He(F,U);const Ce=i?Le(i,F):F;return H=Le(H,Ce),u&&(H=He(H,u)),{start:J(F,c),end:J(H,c)}},[i,u,c]),N=h.exports.useCallback(S=>{const F={...v(S),preset:S.preset};l(F),D(F),$(gt(F,u)),s({start:!1,end:!1})},[l,v,u]),M=h.exports.useCallback(S=>!n.start&&pe(S,C.start)||!n.end&&pe(S,C.end),[C,n]),z=h.exports.useCallback(S=>(g||!n.start&&!n.end)&&S.compare(C.start)>=0&&S.compare(C.end)<=0,[C,n,g]),k=h.exports.useCallback(S=>pe(S,C.start),[C]),L=h.exports.useCallback(S=>pe(S,C.end),[C]),re=h.exports.useCallback((S,F)=>({onPointerEnter:()=>{g&&F&&D(Ue({start:w,end:S,timezone:c}))},onClick:()=>{if(!g)y(!0),x(S),D(Ue({start:S,end:S,timezone:c}));else{const H=Ue({start:Ht(J(w,c)),end:j(J(S,c)),timezone:c});y(!1),x(null),N==null||N(H),m&&(f==null||f(!1))}}}),[w,g,N,f,m,c]);return{selectedValue:o,setSelectedValue:N,calendarIsOpen:p,setCalendarIsOpen:f,dayIsActive:M,dayIsHighlighted:z,dayIsRangeStart:k,dayIsRangeEnd:L,getCellProps:re,calendarDates:T,setIsPlaceholder:s,isPlaceholder:n,clear:b,setCalendarDates:$,min:i,max:u,granularity:d,timezone:c,closeDialogOnSelection:m}}function gt(e,t){let n=ge(Pe(e.start)),s=ge(Re(e.end));return Nt(n,s)&&(s=Re(s.add({months:1}))),t&&s.compare(t)>0&&(s=n,n=Pe(n.subtract({months:1}))),[n,s]}function Ue(e){const t=J(e.start,e.timezone),n=J(e.end,e.timezone);return t.compare(n)>0?{start:n,end:t}:{start:t,end:n}}function Be(e,t){return(e==null?void 0:e.start)&&(e==null?void 0:e.end)?e:!(e!=null&&e.start)&&(e==null?void 0:e.end)?(e.start=e.end.subtract({months:1}),e):!(e!=null&&e.end)&&(e==null?void 0:e.start)?(e.end=e.start.add({months:1}),e):{start:t,end:t.add({months:1})}}const Kt=K(a("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"}),"ArrowRightAltOutlined");function Jn(e,t,n,s){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,n,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,o=r>=12;return e.set({hour:o?r-12:r+12})}case"hour":case"minute":case"second":return e.cycle(t,n,{round:t!=="hour",hourCycle:s.hour12?12:24})}return e}function es(e,t,n,s){switch(t){case"day":case"month":case"year":return e.set({[t]:n})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,o=r>=12;return n>=12===o?e:e.set({hour:o?r-12:r+12})}case"hour":if(s.hour12){const o=e.hour>=12;!o&&n===12&&(n=0),o&&n<12&&(n+=12)}case"minute":case"second":return e.set({[t]:n})}return e}const bt={year:5,month:2,day:7,hour:2,minute:15,second:15,dayPeriod:1};function ts({segment:e,domProps:t,value:n,onChange:s,isPlaceholder:r,state:{timezone:o,calendarIsOpen:l,setCalendarIsOpen:i}}){const u=ye(),d=h.exports.useRef(""),{localeCode:c}=Me(),p=Fe(),f=ce({timeZone:o}),m=h.exports.useMemo(()=>new dn(c,{maximumFractionDigits:0}),[c]),b=v=>{s(es(n,e.type,v,f.resolvedOptions()))},w=v=>{s(Jn(n,e.type,v,f.resolvedOptions()))},x=()=>{if(m.isValidPartialNumber(e.text)){const v=e.text.slice(0,-1),N=m.parse(v);if(v.length===0||N===0){const M=fn(o);e.type in M&&b(M[e.type])}else b(N);d.current=v}else e.type==="dayPeriod"&&w(-1)},g=v=>{var N;if(!(v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)){switch(v.key){case"ArrowLeft":v.preventDefault(),v.stopPropagation(),p.focusPrevious();break;case"ArrowRight":v.preventDefault(),v.stopPropagation(),p.focusNext();break;case"Enter":(N=v.target.closest("form"))==null||N.requestSubmit(),i(!l);break;case"Tab":break;case"Backspace":case"Delete":{v.preventDefault(),v.stopPropagation(),x();break}case"ArrowUp":v.preventDefault(),d.current="",w(1);break;case"ArrowDown":v.preventDefault(),d.current="",w(-1);break;case"PageUp":v.preventDefault(),d.current="",w(bt[e.type]||1);break;case"PageDown":v.preventDefault(),d.current="",w(-(bt[e.type]||1));break;case"Home":v.preventDefault(),d.current="",b(e.maxValue);break;case"End":v.preventDefault(),d.current="",b(e.minValue);break}T(v.key)}},y=ce({hour:"numeric",hour12:!0}),C=h.exports.useMemo(()=>{const v=new Date;return v.setHours(0),y.formatToParts(v).find(N=>N.type==="dayPeriod").value},[y]),D=h.exports.useMemo(()=>{const v=new Date;return v.setHours(12),y.formatToParts(v).find(N=>N.type==="dayPeriod").value},[y]),T=v=>{const N=d.current+v;switch(e.type){case"dayPeriod":if(C.toLowerCase().startsWith(v))b(0);else if(D.toLowerCase().startsWith(v))b(12);else break;p.focusNext();break;case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!m.isValidPartialNumber(N))return;let M=m.parse(N),z=M,k=e.minValue===0;if(e.type==="hour"&&f.resolvedOptions().hour12){switch(f.resolvedOptions().hourCycle){case"h11":M>11&&(z=m.parse(v));break;case"h12":k=!1,M>12&&(z=m.parse(v));break}e.value>=12&&M>1&&(M+=12)}else M>e.maxValue&&(z=m.parse(v));if(Number.isNaN(M))return;const L=z!==0||k;L&&b(z),Number(`${M}0`)>e.maxValue||N.length>=String(e.maxValue).length?(d.current="",L&&p.focusNext()):d.current=N;break}}},$=u?{}:{"aria-label":e.type,"aria-valuetext":r?void 0:`${e.value}`,"aria-valuemin":e.minValue,"aria-valuemax":e.maxValue,"aria-valuenow":r?void 0:e.value,tabIndex:0,onKeyDown:g};return a("div",{...ae(t,{...$,onFocus:v=>{d.current="",v.target.scrollIntoView({block:"nearest"})},onClick:v=>{v.preventDefault(),v.stopPropagation()}}),className:"p-2 outline-none caret-transparent cursor-default rounded focus:bg-primary focus:text-on-primary select-none whitespace-nowrap box-content tabular-nums text-center",children:e.text.padStart(e.minLength,"0")})}function ns({segment:e,domProps:t}){const n=Fe();return a("div",{...t,onPointerDown:s=>{s.pointerType==="mouse"&&(s.preventDefault(),n.focusNext({from:s.target})||n.focusPrevious({from:s.target}))},"aria-hidden":!0,className:"min-w-4 cursor-default select-none",children:e.text})}function ss(e,t,n){switch(t){case"year":return{value:e.year,placeholder:"yyyy",minValue:1,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,placeholder:"mm",minValue:mn(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:hn(e),maxValue:e.calendar.getDaysInMonth(e),placeholder:"dd"}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12,placeholder:"--"};case"hour":if(n.hour12){const s=e.hour>=12;return{value:e.hour,minValue:s?12:0,maxValue:s?23:11,placeholder:"--"}}return{value:e.hour,minValue:0,maxValue:23,placeholder:"--"};case"minute":return{value:e.minute,minValue:0,maxValue:59,placeholder:"--"}}return{}}function ve({segmentProps:e,state:t,value:n,onChange:s,isPlaceholder:r}){const{granularity:o}=t,l=h.exports.useMemo(()=>{const c={year:"numeric",month:"numeric",day:"numeric"};return o==="minute"&&(c.hour="numeric",c.minute="numeric"),c},[o]),i=ce(l),u=h.exports.useMemo(()=>n.toDate(),[n]),d=h.exports.useMemo(()=>i.formatToParts(u).map(c=>{const p=ss(n,c.type,i.resolvedOptions()),f=r&&c.type!=="literal"?p.placeholder:c.value;return{type:c.type,text:c.value===", "?" ":f,...p,minLength:c.type!=="literal"?String(p.maxValue).length:1}}),[u,i,r,n]);return a("div",{className:"flex items-center",children:d.map((c,p)=>c.type==="literal"?a(ns,{domProps:e,segment:c},p):a(ts,{isPlaceholder:r,domProps:e,state:t,value:n,onChange:s,segment:c},p))})}const jt=K(a("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeftOutlined"),qt=K(a("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRightOutlined");function rs({date:e,currentMonth:t,state:{dayIsActive:n,dayIsHighlighted:s,dayIsRangeStart:r,dayIsRangeEnd:o,getCellProps:l,timezone:i,min:u,max:d}}){const{localeCode:c}=Me(),p=pn(e,c),f=n(e),m=s(e),b=r(e),w=o(e),x=gn(e,i),g=Nt(e,t),y=Ge(e,u,d);return P("div",{role:"button","aria-disabled":y,className:R("w-40 h-40 text-sm relative isolate flex-shrink-0",y&&"text-disabled pointer-events-none",!g&&"invisible pointer-events-none"),...l(e,g),children:[a("span",{className:R("absolute inset-0 flex items-center justify-center rounded-full w-full h-full select-none z-10 cursor-pointer",!f&&!x&&"hover:bg-hover",f&&"bg-primary text-on-primary font-semibold",x&&!f&&"bg-chip"),children:e.day}),m&&g&&a("span",{className:R("absolute w-full h-full inset-0 bg-primary/focus",(b||p===0||e.day===1)&&"rounded-l-full",(w||p===6||e.day===t.calendar.getDaysInMonth(t))&&"rounded-r-full")})]})}function as({startDate:e,state:t,isFirst:n,isLast:s}){const{localeCode:r}=Me(),o=bn(e,r),l=Ie(e,r);return P("div",{className:"w-280 flex-shrink-0",children:[a(os,{isFirst:n,isLast:s,state:t,currentMonth:e}),P("div",{className:"block",role:"grid",children:[a(ls,{state:t,startDate:e}),[...new Array(o).keys()].map(i=>a(ue.div,{className:"flex mb-6",children:[...new Array(7).keys()].map(u=>a(rs,{date:l.add({weeks:i,days:u}),currentMonth:e,state:t},u))},i))]})]})}function os({currentMonth:e,isFirst:t,isLast:n,state:{calendarDates:s,setCalendarDates:r,timezone:o,min:l,max:i}}){const u=f=>{const m=s.length;let b;f==="forward"?b=s.map(w=>Re(w.add({months:m}))):b=s.map(w=>Re(w.subtract({months:m}))),r(b)},d=ce({month:"long",year:"numeric",era:e.calendar.identifier!=="gregory"?"long":void 0,calendar:e.calendar.identifier}),c=Ge(e.subtract({days:1}),l,i),p=Ge(Pe(e.add({months:1})),l,i);return P("div",{className:"flex items-center justify-between gap-10",children:[a(Y,{size:"md",className:R("text-muted",!t&&"invisible"),disabled:!t||c,"aria-hidden":!t,onClick:()=>{u("backward")},children:a(jt,{})}),a("div",{className:"text-sm font-semibold select-none",children:d.format(e.toDate(o))}),a(Y,{size:"md",className:R("text-muted",!n&&"invisible"),disabled:!n||p,"aria-hidden":!n,onClick:()=>{u("forward")},children:a(qt,{})})]})}function ls({state:{timezone:e},startDate:t}){const{localeCode:n}=Me(),s=ce({weekday:"short"}),r=Ie(t,n);return a("div",{className:"flex",children:[...new Array(7).keys()].map(o=>{const i=r.add({days:o}).toDate(e),u=s.format(i);return a("div",{className:"w-40 h-40 text-sm font-semibold relative flex-shrink-0",children:a("div",{className:"absolute flex items-center justify-center w-full h-full select-none",children:u})},o)})})}function Yt({state:e,visibleMonths:t=1}){return ye()&&(t=1),a(h.exports.Fragment,{children:[...new Array(t).keys()].map(s=>{const r=ge(Pe(e.calendarDates[s])),o=s===0,l=s===t-1;return a(as,{state:e,startDate:r,isFirst:o,isLast:l},s)})})}const Wt=h.exports.memo(({start:e,end:t,options:n,preset:s})=>{const{dates:r}=Tt(),o=Je(),l=ce(n||vn[s||(r==null?void 0:r.format)]);if(!e||!t)return null;let i;try{i=l.formatRange(vt(e,o),vt(t,o))}catch{i=""}return a(h.exports.Fragment,{children:i})},$t);function vt(e,t){return typeof e=="string"?xn(e,t).toDate():"toDate"in e?e.toDate(t):e}function is({onPresetSelected:e,selectedValue:t}){return a(yn,{className:"min-w-192",padding:"py-14",dataTestId:"date-range-preset-list",children:it.map(n=>a(wn,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(t==null?void 0:t.preset)===n.key,onSelected:()=>{const s=n.getRangeValue();e(s)},children:a(A,{...n.label})},n.key))})}function cs(e){return Ze("(max-width: 1024px)",e)}function us({state:e,showInlineDatePickerField:t=!1}){const n=cs(),{close:s}=et(),r=h.exports.useRef(e),o=e.isPlaceholder.start||e.isPlaceholder.end,l=P(tt,{dividerTop:!0,startAction:!o&&!n?a("div",{className:"text-xs",children:a(Wt,{start:e.selectedValue.start.toDate(),end:e.selectedValue.end.toDate(),options:{dateStyle:"medium"}})}):void 0,children:[a(te,{variant:"text",size:"xs",onClick:()=>{e.setSelectedValue(r.current.selectedValue),e.setIsPlaceholder(r.current.isPlaceholder),s()},children:a(A,{message:"Cancel"})}),a(te,{variant:"flat",color:"primary",size:"xs",onClick:()=>{s(e.selectedValue)},children:a(A,{message:"Select"})})]});return P(Oe,{size:"auto",children:[P(nt,{className:"flex",padding:"p-0",children:[!n&&a(is,{selectedValue:e.selectedValue,onPresetSelected:i=>{e.setSelectedValue(i),e.closeDialogOnSelection&&s(i)}}),a(xe,{initial:!1,children:a(ds,{state:e,showInlineDatePickerField:t})})]}),!e.closeDialogOnSelection&&l]})}function ds({state:e,showInlineDatePickerField:t}){return P(ue.div,{initial:{width:0,overflow:"hidden"},animate:{width:"auto"},exit:{width:0,overflow:"hidden"},transition:{type:"tween",duration:.125},className:"border-l px-20 pt-10 pb-20",children:[t&&a(fs,{state:e}),a("div",{className:"flex items-start gap-36",children:a(Yt,{state:e,visibleMonths:2})})]})}function fs({state:e}){const{selectedValue:t,setSelectedValue:n}=e;return P(ct,{className:"mb-20 mt-10",children:[a(ve,{state:e,value:t.start,onChange:s=>{n({...t,start:s})}}),a(Kt,{className:"block flex-shrink-0 text-muted",size:"md"}),a(ve,{state:e,value:t.end,onChange:s=>{n({...t,end:s})}})]})}function hs(e){var f,m;const{granularity:t,closeDialogOnSelection:n,...s}=e,r=Zn(e),o=h.exports.useRef(null),i=ye()&&t!=="day",u=a(st,{offset:8,placement:"bottom-start",isOpen:r.calendarIsOpen,onOpenChange:r.setCalendarIsOpen,type:"popover",triggerRef:o,returnFocusToTrigger:!1,moveFocusToDialog:!1,children:a(us,{state:r})}),d={onClick:b=>{b.stopPropagation(),b.preventDefault(),ms(b)?r.setCalendarIsOpen(!1):r.setCalendarIsOpen(!0)}},c=r.selectedValue,p=r.setSelectedValue;return P(h.exports.Fragment,{children:[P(ct,{ref:o,wrapperProps:d,endAdornment:i?void 0:a(_t,{}),...s,children:[a(ve,{isPlaceholder:(f=r.isPlaceholder)==null?void 0:f.start,state:r,segmentProps:d,value:c.start,onChange:b=>{p({start:b,end:c.end})}}),a(Kt,{className:"block flex-shrink-0 text-muted",size:"md"}),a(ve,{isPlaceholder:(m=r.isPlaceholder)==null?void 0:m.end,state:r,segmentProps:d,value:c.end,onChange:b=>{p({start:c.start,end:b})}})]}),u]})}function ms(e){return["hour","minute","dayPeriod"].includes(e.currentTarget.ariaLabel||"")}function ps(e){const{field:{onChange:t,onBlur:n,value:s,ref:r},fieldState:{invalid:o,error:l}}=we({name:e.name}),i={onChange:u=>{t(u?Gt(u):null)},onBlur:n,value:gs(s),invalid:o,errorMessage:l==null?void 0:l.message,inputRef:r};return a(hs,{...ae(i,e)})}function gs(e){const{start:t,end:n,preset:s}=e||{},r={preset:s};try{t&&(r.start=typeof t=="string"?Ee(t):t),n&&(r.end=typeof n=="string"?Ee(n):n)}catch{}return r}function Gt({start:e,end:t,preset:n}={}){const s={preset:n};return e&&(s.start=e.toAbsoluteString()),t&&(s.end=t.toAbsoluteString()),s}function Xt(e){var t;return{...e,defaultOperator:be.between,control:{type:_.DateRangePicker,defaultValue:((t=e.control)==null?void 0:t.defaultValue)||Gt(it[3].getRangeValue())}}}function bs(e){return Xt({key:"created_at",label:I("Date created"),...e})}function vs(e){return Xt({key:"updated_at",label:I("Last updated"),...e})}const Ve=h.exports.forwardRef(({className:e,circle:t,size:n="md",src:s,link:r,label:o,fallback:l="generic",...i},u)=>{let d=s?a("img",{ref:u,src:s,alt:o,className:"block object-cover w-full h-full"}):a("div",{className:"bg-alt dark:bg-chip w-full h-full",children:a(Cn,{viewBox:"0 0 48 48",className:"w-full h-full text-muted"})});o&&(d=a(Mt,{label:o,children:d}));const c={...i,className:R(e,"relative block overflow-hidden select-none flex-shrink-0",xs(n),t?"rounded-full":"rounded")};return r?a(kn,{...c,to:r,children:d}):a("div",{...c,children:d})});function xs(e){switch(e){case"xs":return"w-18 h-18";case"sm":return"w-24 h-24";case"md":return"w-32 h-32";case"lg":return"w-40 h-40";case"xl":return"w-60 h-60";default:return e}}const Ke="filters";function ys(e){if(!e)return[];let t=[];try{t=JSON.parse(atob(decodeURIComponent(e))),t.map(n=>(n.valueKey!=null&&(n.value=n.valueKey),n))}catch{}return t}function ws(e,t){return!e||(e=t?e.filter(n=>n.value!=="").map(n=>ks(n,t)):e,e=e.filter(n=>!n.isInactive),!e.length)?"":encodeURIComponent(btoa(JSON.stringify(e)))}function ks(e,t){var s;const n=t.find(r=>r.key===e.key);if((n==null?void 0:n.control.type)==="select"){const r=(n.control.options||[]).find(o=>o.key===e.value);if(r)return{...e,value:r.value,valueKey:r.key}}return(s=n==null?void 0:n.extraFilters)!=null&&s.length&&(e.extraFilters=n.extraFilters),e}function Cs(e,t){const[n]=Dn(),s=Sn(),r=n.get(Ke),o=h.exports.useMemo(()=>{if(!e)return[];const c=ys(r);return(t||[]).forEach(p=>{if(!c.find(f=>f.key===p)){const f=e.find(m=>m.key===p);c.push({key:p,value:f.control.defaultValue,operator:f.defaultOperator,isInactive:!0})}}),c.sort((p,f)=>e.findIndex(m=>m.key===p.key)-e.findIndex(m=>m.key===f.key)),c},[r,t,e]),l=h.exports.useCallback(c=>{const p=[...o];return c.forEach(f=>{const m=typeof f=="object"?f.key:f,b=p.findIndex(w=>w.key===m);b>-1&&p.splice(b,1)}),p},[o]),i=h.exports.useCallback(c=>{const p=ws(c,e);p?n.set(Ke,p):n.delete(Ke),s({search:`?${n}`},{replace:!0})},[e,s,n]),u=h.exports.useCallback(c=>{const f=[...l(c),...c];i(f)},[l,i]),d=h.exports.useCallback(c=>i(l([c])),[l,i]);return{add:u,remove:d,replaceAll:i,decodedFilters:o,encodedFilters:r}}function Ne(e){return In()?e.metaKey:e.ctrlKey}function Ds(e){const{cellCount:t,rowCount:n}=e;return{onKeyDown:r=>{switch(r.key){case"ArrowLeft":G(r,{cell:{op:"decrement"}},e);break;case"ArrowRight":G(r,{cell:{op:"increment"}},e);break;case"ArrowUp":G(r,{row:{op:"decrement"}},e);break;case"ArrowDown":G(r,{row:{op:"increment"}},e);break;case"PageUp":G(r,{row:{op:"decrement",count:5}},e);break;case"PageDown":G(r,{row:{op:"increment",count:5}},e);break;case"Tab":Ss(r);break;case"Home":Ne(r)?G(r,{row:{op:"decrement",count:n},cell:{op:"decrement",count:t}},e):G(r,{cell:{op:"decrement",count:t}},e);break;case"End":Ne(r)?G(r,{row:{op:"increment",count:n},cell:{op:"increment",count:t}},e):G(r,{cell:{op:"increment",count:t}},e);break}}}}function G(e,t,{cellCount:n,rowCount:s}){var b,w,x,g,y,C,D,T,$;if(((b=document.activeElement)==null?void 0:b.tagName)==="input")return;e.preventDefault();const r=e.currentTarget,o=e.target.closest("[aria-colindex]");if(!o||!r)return;const l=o.closest("[aria-rowindex]");if(!l)return;let i=parseInt(l.getAttribute("aria-rowindex")),u=parseInt(o.getAttribute("aria-colindex"));if(Number.isNaN(i)||Number.isNaN(u))return;const d=(x=(w=t.row)==null?void 0:w.count)!=null?x:1;((g=t.row)==null?void 0:g.op)==="increment"?i=Math.min(s,i+d):((y=t.row)==null?void 0:y.op)==="decrement"&&(i=Math.max(1,i-d));const c=(D=(C=t.cell)==null?void 0:C.count)!=null?D:1;((T=t.cell)==null?void 0:T.op)==="increment"?u=Math.min(n,u+c):(($=t.cell)==null?void 0:$.op)==="decrement"&&(u=Math.max(1,u-c));const p=r.querySelector(`[aria-rowindex="${i}"] [aria-colindex="${u}"]`);if(!p)return;const m=Ft(p).nextNode()||p;o.setAttribute("tabindex","-1"),m.setAttribute("tabindex","0"),m.focus()}function Ss(e){const t=e.currentTarget;if(e.shiftKey)t.focus();else{const n=Ft(t,{tabbable:!0});let s,r;do r=n.lastChild(),r&&(s=r);while(r);s&&!s.contains(document.activeElement)&&Pn(s)}}const X=h.exports.createContext(null);function Qt({index:e,isHeader:t}){var i;const{columns:n,cellHeight:s="h-46"}=h.exports.useContext(X),r=n[e],o=r==null?void 0:r.padding;let l="justify-start";return(r==null?void 0:r.align)==="center"?l="justify-center":(r==null?void 0:r.align)==="end"&&(l="justify-end"),R("flex items-center overflow-hidden whitespace-nowrap overflow-ellipsis outline-none focus-visible:outline focus-visible:outline-offset-2",t?"h-46":s,(i=r==null?void 0:r.width)!=null?i:"flex-1",r==null?void 0:r.maxWidth,r==null?void 0:r.minWidth,l,o,r==null?void 0:r.className)}function Is({rowIndex:e,rowIsHovered:t,index:n,item:s,id:r}){const{columns:o}=h.exports.useContext(X),l=o[n],i=h.exports.useMemo(()=>({index:e,isHovered:t,isPlaceholder:s.isPlaceholder}),[e,t,s.isPlaceholder]),u=Qt({index:n,isHeader:!1});return a("div",{tabIndex:-1,role:"gridcell","aria-colindex":n+1,id:r,className:u,children:a("div",{className:"overflow-x-hidden overflow-ellipsis min-w-0 w-full",children:l.body(s,i)})})}function Ps({onMoveStart:e,onMove:t,onMoveEnd:n,minimumMovement:s=0,preventDefault:r,stopPropagation:o=!0,onPress:l,onLongPress:i,...u}){const c=h.exports.useRef({lastPosition:{x:0,y:0},started:!1,longPressTriggered:!1}).current,{addGlobalListener:p,removeGlobalListener:f}=Ot(),m=g=>{!c.el||(e==null?void 0:e(g,c.el))===!1||(c.originalTouchAction=c.el.style.touchAction,c.el.style.touchAction="none",c.originalUserSelect=document.documentElement.style.userSelect,document.documentElement.style.userSelect="none",c.started=!0)},b=g=>{var y;if(g.button===0&&c.id==null){if(c.started=!1,((y=u.onPointerDown)==null?void 0:y.call(u,g))===!1)return;o&&g.stopPropagation(),r&&g.preventDefault(),c.id=g.pointerId,c.el=g.currentTarget,c.lastPosition={x:g.clientX,y:g.clientY},i&&(c.longPressTimer=setTimeout(()=>{i(g,c.el),c.longPressTriggered=!0},400)),(e||t)&&p(window,"pointermove",w,!1),p(window,"pointerup",x,!1),p(window,"pointercancel",x,!1)}},w=g=>{if(g.pointerId===c.id){const y=g.clientX-c.lastPosition.x,C=g.clientY-c.lastPosition.y;(Math.abs(y)>=s||Math.abs(C)>=s)&&!c.started&&m(g),c.started&&(t==null||t(g,y,C),c.lastPosition={x:g.clientX,y:g.clientY})}},x=g=>{var y;if(g.pointerId===c.id){c.longPressTimer&&clearTimeout(c.longPressTimer);const C=c.longPressTriggered;c.longPressTriggered=!1,c.started&&(n==null||n(g)),c.el&&(g.type!=="pointercancel"&&((y=u.onPointerUp)==null||y.call(u,g,c.el),g.target&&c.el.contains(g.target)&&(C?i==null||i(g,c.el):l==null||l(g,c.el))),document.documentElement.style.userSelect=c.originalUserSelect||"",c.el.style.touchAction=c.originalTouchAction||""),c.id=void 0,c.started=!1,f(window,"pointermove",w,!1),f(window,"pointerup",x,!1),f(window,"pointercancel",x,!1)}};return{domProps:{onPointerDown:oe(b)}}}function Rs(e){return e.shiftKey||Ne(e)}function Es({index:e,isSelected:t,isHeader:n}){const s=Rn(),r=ye(),{hideBorder:o,enableSelection:l,collapseOnMobile:i}=h.exports.useContext(X);return R("flex gap-x-16 break-inside-avoid outline-none border border-transparent",r&&i&&o?"mb-8 pl-8 pr-0 rounded":"px-16",!o&&"border-b-divider",!o&&e===0&&"border-t-divider",t&&!s&&"bg-primary/selected hover:bg-primary/focus focus-visible:bg-primary/focus",t&&s&&"bg-selected hover:bg-focus focus-visible:bg-focus",!t&&!n&&l&&"focus-visible:bg-focus hover:bg-hover")}const Ns=["button","a","input","select","textarea"];function Ts({item:e,index:t,renderAs:n,className:s,style:r}){const{selectedRows:o,columns:l,toggleRow:i,selectRow:u,onAction:d,selectRowOnContextMenu:c,enableSelection:p,selectionStyle:f,hideHeaderRow:m}=h.exports.useContext(X),b=h.exports.useRef(!1),w=o.includes(e.id),[x,g]=h.exports.useState(!1),y=k=>k.target.closest(Ns.join(",")),C=k=>{f==="highlight"&&d&&!b.current&&!y(k)&&(k.preventDefault(),k.stopPropagation(),d(e,t))},D=!!o.length,T=k=>{y(k)||(f==="checkbox"?p&&(D||!d)?i(e):d&&d(e,t):f==="highlight"&&(b.current?p&&D?i(e):d==null||d(e,t):p&&u(e,Rs(k))))},{domProps:$}=Ps({onPointerDown:k=>{b.current=k.pointerType==="touch"},onPress:T,onLongPress:p?()=>{b.current&&i(e)}:void 0}),v=k=>{p&&k.key===" "?(k.preventDefault(),k.stopPropagation(),f==="checkbox"?i(e):u(e)):k.key==="Enter"&&!o.length&&d&&(k.preventDefault(),k.stopPropagation(),d(e,t))},N=k=>{c&&p&&(o.includes(e.id)||u(e)),b.current&&(k.preventDefault(),k.stopPropagation())},M=Es({index:t,isSelected:w}),z=n||"div";return a(z,{role:"row","aria-rowindex":t+1+(m?0:1),"aria-selected":w,tabIndex:-1,className:R(s,M),item:z==="div"?void 0:e,onDoubleClick:oe(C),onKeyDown:oe(v),onContextMenu:oe(N),onPointerEnter:oe(()=>g(!0)),onPointerLeave:oe(()=>g(!1)),style:r,...$,children:l.map((k,L)=>a(Is,{rowIndex:t,rowIsHovered:x,index:L,item:e},`${e.id}-${k.key}`))})}const $s={key:"checkbox",header:()=>a(Fs,{}),align:"center",width:"w-24 flex-shrink-0",body:(e,t)=>t.isPlaceholder?a(ie,{size:"w-24 h-24",variant:"rect"}):a(Ms,{item:e})};function Ms({item:e}){const{selectedRows:t,toggleRow:n}=h.exports.useContext(X);return a(At,{checked:t.includes(e.id),onChange:()=>n(e)})}function Fs(){const{trans:e}=W(),{data:t,selectedRows:n,onSelectionChange:s}=h.exports.useContext(X),r=!!t.length&&t.length===n.length,o=!r&&!!n.length;return a(At,{"aria-label":e({message:"Select all"}),isIndeterminate:o,checked:r,onChange:()=>{s(r?[]:t.map(l=>l.id))}})}const Os=K(a("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownwardOutlined");function As({index:e}){const{columns:t,sortDescriptor:n,onSortChange:s,enableSorting:r}=h.exports.useContext(X),o=t[e],l=Qt({index:e,isHeader:!0}),[i,u]=h.exports.useState(!1),d=o.sortingKey||o.key,c=o.allowsSorting&&r,{orderBy:p,orderDir:f}=n||{},m=c&&p===d;let b;m&&f==="asc"?b="ascending":m&&f==="desc"?b="descending":c&&(b="none");const w=()=>{if(!c)return;let y;m&&f==="desc"?y={orderDir:"asc",orderBy:d}:m&&f==="asc"?y={orderBy:void 0,orderDir:void 0}:y={orderDir:"desc",orderBy:d},s==null||s(y)},x=m||i,g={visible:{opacity:1,y:0},hidden:{opacity:0,y:"-25%"}};return P("div",{role:"columnheader",tabIndex:-1,"aria-colindex":e+1,"aria-sort":b,className:R(l,"text-muted font-medium text-xs",c&&"cursor-pointer"),onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},onKeyDown:y=>{(y.key===" "||y.key==="Enter")&&(y.preventDefault(),w())},onClick:w,children:[o.hideHeader?a("div",{className:"sr-only",children:o.header()}):o.header(),a(xe,{children:c&&a(ue.span,{variants:g,animate:x?"visible":"hidden",initial:!1,transition:{type:"tween"},className:"inline-block ml-6 -mt-2","data-testid":"table-sort-button","aria-hidden":!x,children:a(Os,{size:"xs",className:R("text-muted",f==="asc"&&p===d&&"rotate-180 transition-transform")})},"sort-icon")})]})}function zs(){const{columns:e}=h.exports.useContext(X);return a("div",{role:"row","aria-rowindex":1,tabIndex:-1,className:"flex gap-x-16 px-16",children:e.map((t,n)=>a(As,{index:n},t.key))})}function ma({className:e,columns:t,collapseOnMobile:n=!0,hideHeaderRow:s=!1,hideBorder:r=!1,data:o,selectedRows:l,defaultSelectedRows:i,onSelectionChange:u,sortDescriptor:d,onSortChange:c,enableSorting:p=!0,onDelete:f,enableSelection:m=!0,selectionStyle:b="checkbox",ariaLabelledBy:w,selectRowOnContextMenu:x,onAction:g,renderRowAs:y,tableBody:C,meta:D,tableRef:T,closeOnInteractOutside:$=!1,cellHeight:v,...N}){const M=ye(),z=!!M&&n;z&&(s=!0,r=!0);const[k,L]=ee(l,i||[],u),[re,Q]=ee(d,void 0,c),E=h.exports.useCallback(O=>{const B=[...k];if(!B.includes(O.id))B.push(O.id);else{const de=B.indexOf(O.id);B.splice(de,1)}L(B)},[k,L]),S=h.exports.useCallback((O,B)=>{let de=[];O&&(de=B?[...k==null?void 0:k.filter(he=>he!==O.id),O.id]:[O.id]),L(de)},[k,L]),F=h.exports.useMemo(()=>{const O=t.filter(de=>{const he=de.visibleInMode||"regular";if(he==="all"||he==="compact"&&z||he==="regular"&&!z)return!0});return m&&b!=="highlight"&&!M&&O.unshift($s),O},[M,t,m,b,z]),H={isCollapsedMode:z,cellHeight:v,hideBorder:r,hideHeaderRow:s,selectedRows:k,onSelectionChange:L,enableSorting:p,enableSelection:m,selectionStyle:b,data:o,columns:F,sortDescriptor:re,onSortChange:Q,toggleRow:E,selectRow:S,onAction:g,selectRowOnContextMenu:x,meta:D,collapseOnMobile:n},U=Ds({cellCount:m?F.length+1:F.length,rowCount:o.length+1}),Ce={renderRowAs:y};C?C=h.exports.cloneElement(C,Ce):C=a(Vs,{...Ce});const ft=$e(T);return En({ref:ft,onInteractOutside:O=>{$&&m&&(k==null?void 0:k.length)&&!O.target.closest('[role="dialog"]')&&L([])}}),a(X.Provider,{value:H,children:P("div",{...ae(N,U,{onKeyDown:O=>{O.key==="Escape"?(O.preventDefault(),O.stopPropagation(),k!=null&&k.length&&L([])):O.key==="Delete"?(O.preventDefault(),O.stopPropagation(),k!=null&&k.length&&(f==null||f(o.filter(B=>k==null?void 0:k.includes(B.id))))):Ne(O)&&O.key==="a"&&(O.preventDefault(),O.stopPropagation(),m&&L(o.map(B=>B.id)))}}),role:"grid",tabIndex:0,"aria-rowcount":o.length+1,"aria-colcount":F.length+1,ref:ft,"aria-multiselectable":m?!0:void 0,"aria-labelledby":w,className:R(e,"select-none isolate outline-none text-sm focus-visible:ring-2"),children:[!s&&a(zs,{}),C]})})}function Vs({renderRowAs:e}){const{data:t}=h.exports.useContext(X);return a(h.exports.Fragment,{children:t.map((n,s)=>a(Ts,{item:n,index:s,renderAs:e},n.id))})}function Ls({filter:e}){const{trans:t}=W();return a(zt,{size:"sm",name:`${e.key}.value`,selectionMode:"single",showSearchField:e.control.showSearchField,placeholder:e.control.placeholder?t(e.control.placeholder):void 0,searchPlaceholder:e.control.searchPlaceholder?t(e.control.searchPlaceholder):void 0,children:e.control.options.map(n=>a(Ae,{value:n.key,children:a(A,{...n.label})},n.key))})}function Hs({filter:e}){return a(ps,{min:e.control.min,max:e.control.max,size:"sm",name:`${e.key}.value`,granularity:"day",closeDialogOnSelection:!0})}const _s=(e,t="normalized-models")=>`${t}/${e}`;function Us(e,t,n,s){const r=_s(e,s);return Vt([r,t],()=>Bs(r,t),{keepPreviousData:!0,...n})}async function Bs(e,t){return ze.get(e,{params:t}).then(n=>n.data)}const Ks=(e,t,n="normalized-models")=>`${n}/${e}/${t}`;function Zt(e,t,n,s){const r=Ks(e,t,s);return Vt([r,n],()=>js(r,n),{enabled:e!=null&&t!=null})}async function js(e,t){return ze.get(e,{params:t}).then(n=>n.data)}function qs({modelType:e,label:t,className:n,value:s,defaultValue:r="",onChange:o,description:l,errorMessage:i,invalid:u,openMenuOnFocus:d,autoFocus:c,queryParams:p,customEndpoint:f,disabled:m}){var $;const b=h.exports.useRef(null),[w,x]=h.exports.useState(""),[g,y]=ee(s,r,o),C=Us(e,{query:w,...p},null,f),{trans:D}=W(),T=Te({size:"md"});return g?P("div",{className:n,children:[a("div",{className:T.label,children:t}),a("div",{className:R("p-10 border rounded",u&&"border-danger"),children:a(xe,{initial:!1,mode:"wait",children:a(Ys,{disabled:m,endpoint:f,modelType:e,modelId:g,queryParams:p,onEditClick:()=>{y(""),x(""),requestAnimationFrame(()=>{var v;(v=b.current)==null||v.focus()})}})})}),l&&!i&&a("div",{className:T.description,children:l}),i&&a("div",{className:T.error,children:i})]}):a(Nn,{className:n,showSearchField:!0,invalid:u,errorMessage:i,description:l,isAsync:!0,placeholder:D(I("Select item...")),searchPlaceholder:D(I("Find an item...")),label:t,isLoading:C.isFetching,items:($=C.data)==null?void 0:$.results,inputValue:w,onInputValueChange:x,selectionMode:"single",selectedValue:g,onSelectionChange:y,ref:b,autoFocus:c,disabled:m,children:v=>a(Ae,{value:v.id,description:v.description,startIcon:a(Ve,{src:v.image}),children:v.name},v.id)})}function Ys({modelType:e,modelId:t,onEditClick:n,endpoint:s,disabled:r,queryParams:o}){const{data:l,isLoading:i}=Zt(e,t,o,s);return i||!(l!=null&&l.model)?a(Ws,{},"skeleton"):P(ue.div,{className:R("flex items-center gap-10",r&&"text-disabled cursor-not-allowed pointer-events-none"),...rt,children:[l.model.image&&a(Ve,{src:l.model.image}),P("div",{children:[a("div",{children:l.model.name}),a("div",{className:"text-muted text-xs",children:l.model.description})]}),a(Mt,{label:a(A,{message:"Change item"}),children:a(Y,{className:"ml-auto text-muted",size:"sm",onClick:n,disabled:r,children:a(jn,{})})})]},"preview")}function Ws(){return P(ue.div,{className:"flex items-center gap-10",...rt,children:[a(ie,{variant:"rect",size:"w-32 h-32"}),P("div",{className:"flex-auto max-h-[36px]",children:[a(ie,{className:"text-xs"}),a(ie,{className:"text-xs max-h-8"})]}),a(ie,{variant:"icon",size:"w-24 h-24"})]})}function Gs({name:e,...t}){const{field:{onChange:n,value:s=""},fieldState:{invalid:r,error:o}}=we({name:e});return a(qs,{value:s,onChange:n,invalid:r,errorMessage:o==null?void 0:o.message,...t})}function Xs({filter:e}){return a(Gs,{name:`${e.key}.value`,modelType:e.control.model,openMenuOnFocus:!0})}const Jt={"=":I("is"),"!=":I("is not"),">":I("is greater than"),">=":I("is greater than or equal to"),"<":I("is less than"),"<=":I("is less than or equal to"),has:I("Include"),doesntHave:I("Do not include"),between:I("Is between"),hasAll:I("Include all")};function Qs({filter:e}){var n;const t=e.control;return P(h.exports.Fragment,{children:[a(zt,{selectionMode:"single",name:`${e.key}.operator`,className:"mb-14",size:"sm",required:!0,children:(n=e.operators)==null?void 0:n.map(s=>a(Ae,{value:s,children:a(A,{...Jt[s]})},s))}),a(Tn,{size:"sm",name:`${e.key}.value`,type:e.control.inputType,min:"minValue"in t?t.minValue:void 0,max:"maxValue"in t?t.maxValue:void 0,minLength:"minLength"in t?t.minLength:void 0,maxLength:"maxLength"in t?t.maxLength:void 0,required:!0})]})}function Zs({className:e,children:t,size:n,color:s,radius:r,selectable:o}){return a("div",{className:R(e,"flex items-center gap-8 flex-wrap"),children:h.exports.Children.map(t,l=>{if(h.exports.isValidElement(l))return h.exports.cloneElement(l,{size:n,color:s,selectable:o,radius:r})})})}function Xe(e){return{id:e,name:`${e}`,description:`${e}`}}function Js(e,t){const n=h.exports.useRef(null),s=$e(t),{displayWith:r=U=>U.name,validateWith:o,children:l,suggestions:i,isLoading:u,inputValue:d,onInputValueChange:c,onItemSelected:p,placeholder:f,onOpenChange:m,chipSize:b="md",openMenuOnFocus:w=!0,showEmptyMessage:x,value:g,defaultValue:y,onChange:C,valueKey:D,isAsync:T,allowCustomValue:$=!0,showDropdownArrow:v,onChipClick:N,...M}=e,z=Te({...e,flexibleHeight:!0}),[k,L]=nr(e),[re,Q]=h.exports.useState(!1),E=a(at,{isIndeterminate:!0,size:"sm","aria-label":"loading..."}),S=v?a(ot,{}):null,{fieldProps:F,inputProps:H}=Rt({...M,focusRef:s,endAdornment:u&&re?E:S});return a(Et,{fieldClassNames:z,...F,children:P(Ut,{ref:n,className:R("flex items-center flex-wrap",z.input),onClick:()=>{var U;(U=s.current)==null||U.focus()},children:[a(er,{displayChipUsing:r,onChipClick:N,items:k,setItems:L,chipSize:b}),a(tr,{showEmptyMessage:x,inputProps:H,inputValue:d,onInputValueChange:c,fieldRef:n,inputRef:s,chips:k,setChips:L,validateWith:o,isLoading:u,suggestions:i,placeholder:f,openMenuOnFocus:w,listboxIsOpen:re,setListboxIsOpen:Q,allowCustomValue:$,children:l})]})})}function er({items:e,setItems:t,displayChipUsing:n,chipSize:s,onChipClick:r}){const o=Fe(),l=h.exports.useCallback(i=>{const u=e.findIndex(c=>c.id===i),d=[...e];return u>-1&&(d.splice(u,1),t(d)),d},[e,t]);return a(Zs,{className:"flex-shrink-0 flex-wrap max-w-full my-8",size:s,selectable:!0,children:e.map(i=>a($n,{errorMessage:i.errorMessage,adornment:i.image?a(Ve,{circle:!0,src:i.image}):null,onClick:()=>r==null?void 0:r(i),onRemove:()=>{l(i.id).length?o.focusPrevious({tabbable:!0}):o.focusLast()},children:n(i)},i.id))})}function tr(e){const{inputRef:t,fieldRef:n,validateWith:s,setChips:r,chips:o,suggestions:l,inputProps:i,placeholder:u,openMenuOnFocus:d,listboxIsOpen:c,setListboxIsOpen:p,allowCustomValue:f}=e,m="outline-none text-sm mx-8 my-4 h-30 flex-auto",b=Fe(),w=h.exports.useCallback(E=>{E=(E||[]).filter(S=>{const F=!S||!S.id||!S.name;return!(o.findIndex(U=>U.id===(S==null?void 0:S.id))>-1)&&!F}),E.length&&(s&&(E=E.map(S=>s(S))),r([...o,...E]))},[o,r,s]),x=Mn({...e,clearInputOnItemSelection:!0,isOpen:c,onOpenChange:p,items:l,selectionMode:"none",role:"listbox",virtualFocus:!0,onItemSelected:E=>{k(E)}}),{state:{activeIndex:g,setActiveIndex:y,isOpen:C,setIsOpen:D,inputValue:T,setInputValue:$},refs:v,listboxId:N,collection:M,onInputChange:z}=x,k=E=>{const S=M.size&&g!=null?[...M.values()][g]:null;S!=null&&S.item?w([S.item]):f&&w([Xe(S?S.value:E)]),$(""),y(null),D(!1)};Fn(()=>{n.current&&v.reference.current!==n.current&&x.reference(n.current)},[n,x,v]);const{handleTriggerKeyDown:L,handleListboxKeyboardNavigation:re}=zn(x),Q=oe(()=>{d&&!C&&D(!0)});return a(On,{listbox:x,mobileOverlay:An,onPointerDown:E=>{E.preventDefault()},children:a("input",{type:"text",className:R(m,"bg-transparent"),placeholder:u,...ae(i,{ref:t,value:T,onChange:z,onPaste:E=>{const F=E.clipboardData.getData("text").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(F){E.preventDefault();const H=window.getSelection();H!=null&&H.rangeCount&&(H.deleteFromDocument(),w(F.map(U=>Xe(U))))}},"aria-autocomplete":"list","aria-controls":C?N:void 0,autoComplete:"off",autoCorrect:"off",spellCheck:"false",onKeyDown:E=>{const S=E.target;if(E.key==="Enter"){E.preventDefault(),k(S.value);return}if(E.key==="Escape"&&C&&(D(!1),$("")),E.key==="ArrowUp"&&C&&(g===0||g==null)){y(null);return}if(g!=null&&(E.key==="ArrowLeft"||E.key==="ArrowRight")){E.preventDefault();return}if((E.key==="ArrowLeft"||E.key==="Backspace"||E.key==="Delete")&&S.selectionStart===0&&g==null&&o.length){b.focusPrevious({tabbable:!0});return}L(E)||re(E)},onFocus:Q,onClick:Q})})})}function nr({onChange:e,value:t,defaultValue:n,valueKey:s}){const r=h.exports.useMemo(()=>xt(t),[t]),o=h.exports.useMemo(()=>xt(n),[n]),l=h.exports.useCallback(i=>{const u=s?i.map(d=>d[s]):i;e==null||e(u)},[e,s]);return ee(r||void 0,o||[],l)}function xt(e){if(e!=null)return e.map(t=>typeof t!="object"?Xe(t):t)}const sr=fe.forwardRef(Js);function rr({children:e,...t}){const{field:{onChange:n,onBlur:s,value:r=[],ref:o},fieldState:{invalid:l,error:i}}=we({name:t.name}),u={onChange:n,onBlur:s,value:r,invalid:l,errorMessage:i==null?void 0:i.message};return a(sr,{ref:o,...ae(u,t),children:e})}function ar({filter:e}){const{trans:t}=W();return a(rr,{size:"sm",name:`${e.key}.value`,valueKey:"id",allowCustomValue:!1,showDropdownArrow:!0,placeholder:e.control.placeholder?t(e.control.placeholder):void 0,displayWith:n=>{var s;return(s=e.control.options.find(r=>r.key===n.id))==null?void 0:s.label.message},suggestions:e.control.options.map(n=>({id:n.key,name:n.label.message})),children:n=>a(Ae,{value:n.id,children:a(A,{message:n.name})},n.id)})}const en=h.exports.forwardRef((e,t)=>{const{isInactive:n,filter:s,...r}=e;return n?a(or,{filter:s,...r,ref:t}):a(lr,{filter:s,...r,ref:t})}),or=h.exports.forwardRef(({filter:e,...t},n)=>a(te,{variant:"outline",size:"xs",color:"paper",radius:"rounded-md",border:"border",ref:n,endIcon:a(ot,{}),...t,children:a(A,{...e.label})})),lr=h.exports.forwardRef(({filter:e,children:t,...n},s)=>{const r=e.control.type===_.BooleanToggle;return P(te,{variant:"outline",size:"xs",color:"primary",radius:"rounded-r-md",border:"border-y border-r",endIcon:!r&&a(ot,{}),ref:s,...n,children:[a("span",{className:R(!r&&"border-r border-r-primary-light mr-8 pr-8"),children:a(A,{...e.label})}),t]})});function ke(e){const{onValueChange:t,isInactive:n,filter:s,label:r}=e;return P(st,{offset:10,type:"popover",onClose:o=>{o!==void 0&&t(o)},children:[a(en,{isInactive:n,filter:s,children:r}),a(ir,{...e})]})}function ir({filter:e,panel:t,value:n,operator:s}){const r=Vn({defaultValues:{[e.key]:{value:n,operator:s}}}),{close:o,formId:l}=et();return P(Oe,{size:"xs",children:[a(Ln,{children:a(A,{...e.label})}),a(nt,{padding:"px-14 pt-14 pb-4 max-h-288",children:P(Hn,{form:r,id:l,onSubmit:i=>{o(i[e.key])},children:[e.description&&a("div",{className:"text-muted text-xs mb-14",children:a(A,{...e.description})}),t]})}),a(tt,{children:a(te,{form:l,type:"submit",variant:"flat",color:"primary",size:"xs",children:a(A,{message:"Apply"})})})]})}const cr=h.exports.memo(({value:e,...t})=>{const n=_n(t);return isNaN(e)&&(e=0),a(h.exports.Fragment,{children:n.format(e)})},$t);function ur(e){switch(e.filter.control.type){case _.DateRangePicker:return a(dr,{...e});case _.BooleanToggle:return a(fr,{...e});case _.Select:return a(hr,{...e});case _.ChipField:return a(mr,{...e});case _.Input:return a(gr,{...e});case _.SelectModel:return a(br,{...e});case _.Custom:const t=e.filter.control.listItem;return a(t,{...e});default:return null}}function dr(e){const{value:t,filter:n}=e;let s;return t.preset!==void 0?s=a(A,{...it[t.preset].label}):s=a(Wt,{start:new Date(t.start),end:new Date(t.end),options:{dateStyle:"medium"}}),a(ke,{...e,label:s,panel:a(Hs,{filter:n})})}function fr({filter:e,isInactive:t,onValueChange:n}){return a(en,{onClick:()=>{n({value:e.control.defaultValue})},filter:e,isInactive:t})}function hr(e){const{filter:t,value:n}=e,s=t.control.options.find(r=>r.key===n);return a(ke,{...e,label:s?a(A,{...s.label}):null,panel:a(Ls,{filter:t})})}function mr(e){return a(ke,{...e,label:a(pr,{...e}),panel:a(ar,{filter:e.filter})})}function pr(e){const{trans:t}=W(),{filter:n,value:s}=e,r=s.map(u=>n.control.options.find(d=>d.key===u)),o=3,l=s.length-o,i=a(h.exports.Fragment,{children:r.filter(Boolean).slice(0,o).map((u,d)=>{let c="";return d!==0&&(c+=", "),c+=t(u.label),c})});return l>0?a(A,{message:":names + :count more",values:{names:i,count:l}}):i}function gr(e){const{filter:t,value:n,operator:s}=e,r=s?a(A,{...Jt[s]}):null,o=t.control.inputType==="number"?a(cr,{value:n}):n;return a(ke,{...e,label:P(h.exports.Fragment,{children:[r," ",o]}),panel:a(Qs,{filter:t})})}function br(e){const{value:t,filter:n}=e,{isLoading:s,data:r}=Zt(n.control.model,t),o=P(h.exports.Fragment,{children:[a(ie,{variant:"avatar",size:"w-18 h-18 mr-6"}),a(ie,{variant:"rect",size:"w-50"})]}),l=P(h.exports.Fragment,{children:[a(Ve,{size:"xs",src:r==null?void 0:r.model.image,className:"mr-6"}),r==null?void 0:r.model.name]});return a(ke,{...e,label:s||!r?o:l,panel:a(Xs,{filter:n})})}function pa({filters:e,pinnedFilters:t,className:n}){const{decodedFilters:s,remove:r,replaceAll:o}=Cs(e,t);return s.length?a("div",{className:R("flex items-center gap-6 overflow-x-auto",n),children:s.map((l,i)=>{const u=e.find(c=>c.key===l.key);if(!u)return null;const d=c=>{const p=[...s];p.splice(i,1,{key:u.key,value:c.value,isInactive:!1,operator:c.operator||u.defaultOperator}),o(p)};return P("div",{children:[!l.isInactive&&a(Y,{variant:"outline",color:"primary",size:"xs",radius:"rounded-l-md",onClick:()=>{r(l.key)},children:a(Lt,{})}),a(ur,{filter:u,isInactive:l.isInactive,value:l.valueKey!=null?l.valueKey:l.value,operator:l.operator,onValueChange:d})]},l.key)})}):null}const ga=K(a("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined"),yt=K(a("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}),"FileDownloadOutlined");function Qe(e,t){const n=document.createElement("a");n.href=e,t&&(n.download=t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function vr(e){const t=ut(),[n,s]=h.exports.useState(!e.value&&!e.defaultValue),r=e.onChange,[o,l]=ee(e.value||t,e.defaultValue||t,r),{min:i,max:u,granularity:d,timezone:c,calendarIsOpen:p,setCalendarIsOpen:f,closeDialogOnSelection:m}=Bt(o,e),b=h.exports.useCallback(()=>{s(!0),l(t),r==null||r(null),f(!1)},[t,l,r,f]),[w,x]=h.exports.useState(()=>[ge(o)]),g=h.exports.useCallback(D=>{i&&D.compare(i)<0?D=i:u&&D.compare(u)>0&&(D=u);const T=o?o.set(D):J(D,c);l(T),x([ge(T)]),s(!1)},[l,i,u,o,c]),y=h.exports.useCallback(D=>!n&&pe(o,D),[o,n]),C=h.exports.useCallback(D=>({onClick:()=>{g==null||g(D),m&&(f==null||f(!1))}}),[g,f,m]);return{selectedValue:o,setSelectedValue:l,calendarIsOpen:p,setCalendarIsOpen:f,dayIsActive:y,dayIsHighlighted:()=>!1,dayIsRangeStart:()=>!1,dayIsRangeEnd:()=>!1,getCellProps:C,calendarDates:w,setCalendarDates:x,isPlaceholder:n,clear:b,setIsPlaceholder:s,min:i,max:u,granularity:d,timezone:c,closeDialogOnSelection:m}}function xr({showCalendarFooter:e,...t}){const n=vr(t),s=h.exports.useRef(null),r=ut(),o=e&&a(tt,{padding:"px-14 pb-14",startAction:a(te,{disabled:n.isPlaceholder,variant:"text",color:"primary",onClick:()=>{n.clear()},children:a(A,{message:"Clear"})}),children:a(te,{variant:"text",color:"primary",onClick:()=>{n.setSelectedValue(r),n.setCalendarIsOpen(!1)},children:a(A,{message:"Today"})})}),l=a(st,{offset:8,placement:"bottom-start",isOpen:n.calendarIsOpen,onOpenChange:n.setCalendarIsOpen,type:"popover",triggerRef:s,returnFocusToTrigger:!1,moveFocusToDialog:!1,children:P(Oe,{size:"auto",children:[a(nt,{className:"flex items-start gap-40",padding:e?"px-24 pt-20 pb-10":null,children:a(Yt,{state:n,visibleMonths:1})}),o]})}),i={onClick:u=>{u.stopPropagation(),u.preventDefault(),yr(u)?n.setCalendarIsOpen(!1):n.setCalendarIsOpen(!0)}};return P(h.exports.Fragment,{children:[a(ct,{ref:s,wrapperProps:i,endAdornment:a(_t,{className:R(t.disabled&&"text-disabled")}),...t,children:a(ve,{segmentProps:i,state:n,value:n.selectedValue,onChange:n.setSelectedValue,isPlaceholder:n.isPlaceholder})}),l]})}function ba(e){const{min:t,max:n}=e,{trans:s}=W(),{format:r}=ce(),{field:{onChange:o,onBlur:l,value:i=null,ref:u},fieldState:{invalid:d,error:c}}=we({name:e.name,rules:{validate:m=>{if(!m)return;const b=Ee(m);if(t&&b.compare(t)<0)return s({message:"Enter a date after :date",values:{date:r(m)}});if(n&&b.compare(n)>0)return s({message:"Enter a date before :date",values:{date:r(m)}})}}}),p=i?Ee(i):null,f={onChange:m=>{o(m&&m.toAbsoluteString())},onBlur:l,value:p,invalid:d,errorMessage:c==null?void 0:c.message,inputRef:u};return a(xr,{...ae(f,e)})}function yr(e){return["hour","minute","dayPeriod"].includes(e.currentTarget.ariaLabel||"")}const wr=fe.forwardRef((e,t)=>{const{children:n,size:s="sm",description:r,className:o,invalid:l,autoFocus:i,errorMessage:u,...d}=e,c=$e(t);Un({autoFocus:i},c);const p=kr(s),f=Te(e),m=h.exports.useId();return P("div",{className:R(o,"isolate"),children:[P("label",{className:"flex items-center select-none",children:[a("input",{...d,type:"checkbox",role:"switch","aria-invalid":l||void 0,"aria-describedby":r?m:void 0,ref:c,"aria-checked":d.checked,className:R(p,!l&&"checked:bg-primary dark:checked:bg-primary-dark checked:border-primary dark:checked:border-primary-dark",l&&"checked:bg-danger checked:border-danger","outline-none cursor-pointer bg-chip border-chip border checked:bg-primary checked:border-primary p-0 overflow-hidden relative rounded-3xl appearance-none transition-colors flex-shrink-0 flex items-center outline-none","before:z-10 before:border before:rounded-3xl before:block before:bg-white before:transition-transform before:translate-x-2","checked:before:border-white","focus-visible:ring",e.disabled&&"opacity-80 cursor-not-allowed")}),n&&a("span",{className:R(f.size.font,"ml-12",l&&"text-danger",e.disabled&&"text-disabled"),children:n})]}),r&&!u&&a("div",{id:m,className:f.description,children:r}),u&&a("div",{id:m,className:f.error,children:u})]})});function va(e){const{field:{onChange:t,onBlur:n,value:s=!1,ref:r},fieldState:{invalid:o,error:l}}=we({name:e.name}),i={onChange:u=>{u.target.value&&u.target.value!=="on"?t(u.target.checked?u.target.value:!1):t(u)},onBlur:n,checked:!!s,invalid:o,errorMessage:l==null?void 0:l.message,name:e.name};return a(wr,{ref:r,...ae(e,i)})}function kr(e){switch(e){case"xl":return"w-68 h-36 before:w-28 before:h-28 checked:before:translate-x-36";case"lg":return"w-56 h-30 before:w-22 before:h-22 checked:before:translate-x-30";case"md":return"w-46 h-24 before:w-18 before:h-18 checked:before:translate-x-24";case"xs":return"w-30 h-16 before:w-12 before:h-12 checked:before:translate-x-16";default:return"w-38 h-20 before:w-14 before:h-14 checked:before:translate-x-20"}}const xa=K(a("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}),"DeleteOutlined"),Z=new Map,Se=new Map,Cr=new Map,q={status:"inactive"};function je({e,rect:t,deltaX:n,deltaY:s}){return{rect:t,x:e.clientX,y:e.clientY,deltaX:n!=null?n:0,deltaY:s!=null?s:0,nativeEvent:e}}let tn=null;function wt(e){tn=e}function Dr(e){return{left:e.left,top:e.top,width:e.width,height:e.height}}function Sr(e){const t=new IntersectionObserver(n=>{n.forEach(s=>{const{width:r,height:o,left:l,top:i}=s.boundingClientRect,[u,d]=[...e].find(([,p])=>p.ref.current===s.target)||[];if(u==null||d==null)return;const c={width:r,height:o,left:l,top:i};e.set(u,{...d,rect:c})}),t.disconnect()});[...e.values()].forEach(n=>{n.ref.current&&t.observe(n.ref.current)})}function ya({id:e,disabled:t,ref:n,preview:s,hidePreview:r,...o}){const l=h.exports.useRef(null),{addGlobalListener:i,removeAllGlobalListeners:u}=Ot(),d=h.exports.useRef({lastPosition:{x:0,y:0}}).current,c=h.exports.useRef(o);c.current=o,h.exports.useLayoutEffect(()=>(t?Z.delete(e):Z.set(e,{...Z.get(e),id:e,ref:n,type:c.current.type,getData:c.current.getData}),()=>{Z.delete(e)}),[e,t,c,n]);const p=x=>{Cr.forEach(g=>{var y;g.type===((y=Z.get(e))==null?void 0:y.type)&&x(g)})},f=x=>{var T,$;const g=Z.get(e),y=n.current,C=!l.current||!d.clickedEl||l.current.contains(d.clickedEl);if(tn||!y||!g||!C){x.preventDefault(),x.stopPropagation();return}Sr(Se),wt("drag"),r&&Ir(x),x.dataTransfer.effectAllowed="move",d.lastPosition={x:x.clientX,y:x.clientY},d.currentRect=Dr(y.getBoundingClientRect());const D=je({rect:d.currentRect,e:x});s!=null&&s.current&&s.current(g,v=>{x.dataTransfer.setDragImage(v,0,0)}),q.status="dragging",q.dragTargetId=e,n.current&&(n.current.dataset.dragging="true"),($=(T=c.current).onDragStart)==null||$.call(T,D,g),requestAnimationFrame(()=>{p(v=>{var N;return(N=v.onDragStart)==null?void 0:N.call(v,D,g)})}),i(window,"dragover",m,!0)},m=x=>{var $,v;if(x.preventDefault(),!d.currentRect)return;const g=x.clientX-d.lastPosition.x,y=x.clientY-d.lastPosition.y,C={...d.currentRect,left:d.currentRect.left+g,top:d.currentRect.top+y},D=je({rect:C,e:x,deltaX:g,deltaY:y}),T=Z.get(e);T&&((v=($=c.current).onDragMove)==null||v.call($,D,T),p(N=>{var M;return(M=N.onDragMove)==null?void 0:M.call(N,D,T)})),d.lastPosition={x:x.clientX,y:x.clientY},d.currentRect=C};return{draggableProps:{draggable:!t,onDragStart:f,onDragEnd:x=>{var C,D;if(u(),!d.currentRect)return;wt(null),le&&le.remove();const g=je({rect:d.currentRect,e:x}),y=Z.get(e);y&&((D=(C=c.current).onDragEnd)==null||D.call(C,g,y),p(T=>{var $;return($=T.onDragEnd)==null?void 0:$.call(T,g,y,q.status)})),requestAnimationFrame(()=>{q.dragTargetId=void 0,q.status="inactive",n.current&&delete n.current.dataset.dragging})},onPointerDown:x=>{d.clickedEl=x.target}},dragHandleRef:l}}let le;function Ir(e){le||(le=new Image,document.body.append(le),le.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),e.dataTransfer.setDragImage(le,0,0)}async function*Pr(e){for(const t of e.items)if(t.kind==="file")if(typeof t.webkitGetAsEntry=="function"){const n=t.webkitGetAsEntry();if(!n)continue;if(n.isFile){if(n.name===".DS_Store")continue;yield new We(t.getAsFile(),n.fullPath)}else n.isDirectory&&(yield*nn(n))}else{const n=t.getAsFile();if(!n||n.name===".DS_Store")continue;yield new We(n,t.fullPath)}}async function*nn(e){const t=e.createReader();let n;do{n=await new Promise((s,r)=>{t.readEntries(s,r)});for(const s of n)if(s.isFile){if(s.name===".DS_Store")continue;const r=await Rr(s);yield new We(r,s.fullPath)}else s.isDirectory&&(yield*nn(s))}while(n.length>0)}function Rr(e){return new Promise((t,n)=>e.file(t,n))}async function Er(e){const t=[];for await(const n of e)t.push(n);return t}const Nr=400;function wa({id:e,disabled:t,ref:n,...s}){const r=h.exports.useRef({dragOverElements:new Set,dropActivateTimer:void 0}).current,o=h.exports.useRef(s);o.current=s,h.exports.useLayoutEffect(()=>(Se.set(e,{...Se.get(e),disabled:t,id:e,ref:n}),()=>{Se.delete(e)}),[e,o,t,n]);const l=f=>{var w;const m=o.current,b=m.allowDragEventsFromItself||n.current!==((w=f.ref)==null?void 0:w.current);return!!((f==null?void 0:f.type)&&b&&m.types.includes(f.type)&&(!m.acceptsDrop||m.acceptsDrop(f)))},i=f=>{var b,w;const m=me(f);m&&((w=(b=o.current).onDragLeave)==null||w.call(b,m))};return{droppableProps:t?{}:{onDragOver:f=>{var b,w;f.preventDefault(),f.stopPropagation();const m=me(f);m&&l(m)&&((w=(b=o.current).onDragOver)==null||w.call(b,m,f))},onDragEnter:f=>{var b,w;if(f.stopPropagation(),r.dragOverElements.add(f.target),r.dragOverElements.size>1)return;const m=me(f);m&&l(m)&&((w=(b=o.current).onDragEnter)==null||w.call(b,m),clearTimeout(r.dropActivateTimer),typeof o.current.onDropActivate=="function"&&(r.dropActivateTimer=setTimeout(()=>{var x,g;m&&((g=(x=o.current).onDropActivate)==null||g.call(x,m))},Nr)))},onDragLeave:f=>{f.stopPropagation(),r.dragOverElements.delete(f.target);for(const b of r.dragOverElements)f.currentTarget.contains(b)||r.dragOverElements.delete(b);if(r.dragOverElements.size>0)return;const m=me(f);m&&l(m)&&(i(f),clearTimeout(r.dropActivateTimer))},onDrop:async f=>{var b,w,x,g;f.preventDefault(),f.stopPropagation(),r.dragOverElements.clear(),i(f),clearTimeout(r.dropActivateTimer);const m=me(f);if(m)if((w=(b=o.current).onDragLeave)==null||w.call(b,m),!l(m))q.status!=="inactive"&&(q.status="dropFail");else{const y=(g=(x=o.current).onDrop)==null?void 0:g.call(x,m);q.status!=="inactive"&&(q.status=y===!1?"dropFail":"dropSuccess")}}}}}function me(e){if(q.dragTargetId!=null)return Z.get(q.dragTargetId);if(e.dataTransfer.types.includes("Files"))return{type:"nativeFile",el:null,ref:null,getData:()=>Er(Pr(e.dataTransfer))}}const Tr="user",ka=K(a("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"}),"LinkOutlined"),Ca=K(a("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined");/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 *//**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function De(e,t,n){let s=[],r;return()=>{let o;n.key&&n.debug!=null&&n.debug()&&(o=Date.now());const l=e();if(!(l.length!==s.length||l.some((d,c)=>s[c]!==d)))return r;s=l;let u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),r=t(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,c=Math.round((Date.now()-u)*100)/100,p=c/16,f=(m,b)=>{for(m=String(m);m.length<b;)m=" "+m;return m};console.info("%c\u23F1 "+f(c,5)+" /"+f(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return r}}const $r=e=>e,Mr=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let r=t;r<=n;r++)s.push(r);return s},Fr=(e,t)=>{const n=new ResizeObserver(s=>{var r,o;t({width:(r=s[0])==null?void 0:r.contentRect.width,height:(o=s[0])==null?void 0:o.contentRect.height})});if(!!e.scrollElement)return t(e.scrollElement.getBoundingClientRect()),n.observe(e.scrollElement),()=>{n.unobserve(e.scrollElement)}},kt={element:["scrollLeft","scrollTop"],window:["scrollX","scrollY"]},Or=e=>(t,n)=>{if(!t.scrollElement)return;const s=kt[e][0],r=kt[e][1];let o=t.scrollElement[s],l=t.scrollElement[r];const i=()=>{const d=t.scrollElement[t.options.horizontal?s:r];n(Math.max(0,d-t.options.scrollMargin))};i();const u=d=>{const c=d.currentTarget,p=c[s],f=c[r];(t.options.horizontal?o-p:l-f)&&i(),o=p,l=f};return t.scrollElement.addEventListener("scroll",u,{capture:!1,passive:!0}),()=>{t.scrollElement.removeEventListener("scroll",u)}},Ar=Or("element"),zr=(e,t)=>Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"]),Vr=(e,t,n)=>{var s;let{canSmooth:r,sync:o}=t;const l=o?e:e+n.options.scrollMargin;(s=n.scrollElement)==null||s.scrollTo==null||s.scrollTo({[n.options.horizontal?"left":"top"]:l,behavior:r?"smooth":void 0})};class Lr{constructor(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.measurementsCache=[],this.itemMeasurementsCache={},this.pendingMeasuredCacheIndexes=[],this.scrollDelta=0,this.measureElementCache={},this.getResizeObserver=(()=>{let s=null;return()=>s||(typeof ResizeObserver<"u"?s=new ResizeObserver(r=>{r.forEach(o=>{this._measureElement(o.target,!1)})}):null)})(),this.range={startIndex:0,endIndex:0},this.setOptions=s=>{Object.entries(s).forEach(r=>{let[o,l]=r;typeof l>"u"&&delete s[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$r,rangeExtractor:Mr,enableSmoothScroll:!0,onChange:()=>{},measureElement:zr,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",...s}},this.notify=()=>{var s,r;(s=(r=this.options).onChange)==null||s.call(r,this)},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(s=>s()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>()=>{var s;(s=this.getResizeObserver())==null||s.disconnect(),this.measureElementCache={},this.cleanup()},this._willUpdate=()=>{const s=this.options.getScrollElement();this.scrollElement!==s?(this.cleanup(),this.scrollElement=s,this._scrollToOffset(this.scrollOffset,{canSmooth:!1,sync:!0,requested:!1}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.calculateRange()})),this.unsubs.push(this.options.observeElementOffset(this,r=>{this.isScrollingTimeoutId!==null&&(clearTimeout(this.isScrollingTimeoutId),this.isScrollingTimeoutId=null),this.scrollOffset!==r?(this.scrollOffset=r,this.isScrolling=!0,this.scrollDelta=0,this.isScrollingTimeoutId=setTimeout(()=>{this.isScrollingTimeoutId=null,this.isScrolling=!1,this.notify()},this.options.scrollingDelay)):(this.isScrolling=!1,this.scrollDelta=0),this.calculateRange()}))):this.isScrolling||this.calculateRange()},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurements=De(()=>[this.options.count,this.options.paddingStart,this.options.getItemKey,this.itemMeasurementsCache],(s,r,o,l)=>{const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,i);for(let d=i;d<s;d++){const c=o(d),p=l[c],f=u[d-1]?u[d-1].end:r,m=typeof p=="number"?p:this.options.estimateSize(d),b=f+m;u[d]={index:d,start:f,size:m,end:b,key:c}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=De(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(s,r,o)=>{const l=_r({measurements:s,outerSize:r,scrollOffset:o});return(l.startIndex!==this.range.startIndex||l.endIndex!==this.range.endIndex)&&(this.range=l,this.notify()),this.range},{key:!1,debug:()=>this.options.debug}),this.getIndexes=De(()=>[this.options.rangeExtractor,this.range,this.options.overscan,this.options.count],(s,r,o,l)=>s({...r,overscan:o,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=s=>{const r=this.options.indexAttribute,o=s.getAttribute(r);return o?parseInt(o,10):(console.warn("Missing attribute name '"+r+"={index}' on measured element."),-1)},this._measureElement=(s,r)=>{var o;const l=this.indexFromElement(s),i=this.measurementsCache[l];if(!i)return;const u=this.measureElementCache[i.key],d=this.getResizeObserver();if(!s.isConnected){u&&(d==null||d.unobserve(u),delete this.measureElementCache[i.key]);return}(!u||u!==s)&&(u&&(d==null||d.unobserve(u)),this.measureElementCache[i.key]=s,d==null||d.observe(s));const c=this.options.measureElement(s,this),p=(o=this.itemMeasurementsCache[i.key])!=null?o:i.size,f=c-p;f!==0&&(i.start<this.scrollOffset&&this.isScrolling&&this.destinationOffset===void 0&&(this.scrollDelta+=f,this._scrollToOffset(this.scrollOffset+this.scrollDelta,{canSmooth:!1,sync:!1,requested:!1})),this.pendingMeasuredCacheIndexes.push(l),this.itemMeasurementsCache={...this.itemMeasurementsCache,[i.key]:c},this.notify())},this.measureElement=s=>{!s||this._measureElement(s,!0)},this.getVirtualItems=De(()=>[this.getIndexes(),this.getMeasurements()],(s,r)=>{const o=[];for(let l=0,i=s.length;l<i;l++){const u=s[l],d=r[u];o.push(d)}return o},{key:!1,debug:()=>this.options.debug}),this.scrollToOffset=function(s,r){let{align:o="start",smoothScroll:l=n.options.enableSmoothScroll}=r===void 0?{}:r;const i=n.scrollOffset,u=n.getSize();o==="auto"&&(s<=i?o="start":s>=i+u?o="end":o="start");const d={canSmooth:l,sync:!1,requested:!0};o==="start"?n._scrollToOffset(s,d):o==="end"?n._scrollToOffset(s-u,d):o==="center"&&n._scrollToOffset(s-u/2,d)},this.scrollToIndex=function(s,r){let{align:o="auto",smoothScroll:l=n.options.enableSmoothScroll,...i}=r===void 0?{}:r;const u=n.getMeasurements(),d=n.scrollOffset,c=n.getSize(),{count:p}=n.options,f=u[Math.max(0,Math.min(s,p-1))];if(!f)return;if(o==="auto")if(f.end>=d+c-n.options.scrollPaddingEnd)o="end";else if(f.start<=d+n.options.scrollPaddingStart)o="start";else return;const m=o==="end"?f.end+n.options.scrollPaddingEnd:f.start-n.options.scrollPaddingStart;n.scrollToOffset(m,{align:o,smoothScroll:l,...i})},this.getTotalSize=()=>{var s;return(((s=this.getMeasurements()[this.options.count-1])==null?void 0:s.end)||this.options.paddingStart)+this.options.paddingEnd},this._scrollToOffset=(s,r)=>{let{requested:o,canSmooth:l,sync:i}=r;clearTimeout(this.scrollCheckFrame),o&&(this.destinationOffset=s),this.options.scrollToFn(s,{canSmooth:l,sync:i},this);let u;const d=()=>{let c=this.scrollOffset;this.scrollCheckFrame=u=setTimeout(()=>{if(this.scrollCheckFrame===u){if(this.scrollOffset===c){this.destinationOffset=void 0;return}c=this.scrollOffset,d()}},100)};d()},this.measure=()=>{this.itemMeasurementsCache={},this.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.calculateRange()}}const Hr=(e,t,n,s)=>{for(;e<=t;){const r=(e+t)/2|0,o=n(r);if(o<s)e=r+1;else if(o>s)t=r-1;else return r}return e>0?e-1:0};function _r(e){let{measurements:t,outerSize:n,scrollOffset:s}=e;const r=t.length-1,l=Hr(0,r,u=>t[u].start,s);let i=l;for(;i<r&&t[i].end<s+n;)i++;return{startIndex:l,endIndex:i}}const Ur=typeof window<"u"?h.exports.useLayoutEffect:h.exports.useEffect;function Br(e){const t=h.exports.useReducer(()=>({}),{})[1],n={...e,onChange:r=>{t(),e.onChange==null||e.onChange(r)}},[s]=h.exports.useState(()=>new Lr(n));return s.setOptions(n),h.exports.useEffect(()=>s._didMount(),[]),Ur(()=>s._willUpdate()),s}function Da(e){return Br({observeElementRect:Fr,observeElementOffset:Ar,scrollToFn:Vr,...e})}const Kr=fe.createContext(null);function se(e,t){const{base_url:n}=Tt(),s=h.exports.useContext(Kr);return h.exports.useMemo(()=>{if(!e)return{};let r;e.url&&(r=Bn(e.url)?e.url:`${n}/${e.url}`);const o={previewUrl:r,downloadUrl:`${n}/api/v1/file-entries/download/${(t==null?void 0:t.downloadHashes)||e.hash}`};return s&&(o.previewUrl&&(o.previewUrl=Ct(o.previewUrl,{...s,thumbnail:t!=null&&t.thumbnail?"true":""},n)),o.downloadUrl=Ct(o.downloadUrl,s,n)),o},[n,e,t==null?void 0:t.downloadHashes,t==null?void 0:t.thumbnail,s])}function Ct(e,t,n){const s=new URL(e,n);return Object.entries(t).forEach(([r,o])=>{s.searchParams.append(r,o)}),s.toString()}const dt=fe.createContext(null);function ne({message:e,className:t,allowDownload:n}){const{entries:s,activeIndex:r}=h.exports.useContext(dt),o=s[r],l=e||a(A,{message:"No file preview available"}),{downloadUrl:i}=se(o);return P("div",{className:R(t,"shadow bg-paper max-w-400 w-[calc(100%-40px)] text-center p-40 rounded"),children:[a("div",{className:"text-lg",children:l}),n&&a("div",{className:"block mt-20 text-center",children:a(te,{variant:"flat",color:"primary",onClick:()=>{i&&Qe(i)},children:a(A,{message:"Download"})})})]})}function jr(e){const{entry:t,className:n}=e,{trans:s}=W(),{previewUrl:r}=se(t);return r?a("img",{className:R(n,"shadow"),src:r,alt:s({message:"Preview for :name",values:{name:t.name}})}):a(ne,{...e})}const qr=5242880;function Yr(e){const{entry:t,className:n}=e,{trans:s}=W(),[r,o]=h.exports.useState(!1),[l,i]=h.exports.useState(!0),[u,d]=h.exports.useState(!1),[c,p]=h.exports.useState(null),{previewUrl:f}=se(t);return h.exports.useEffect(()=>{!t||(f?t.file_size>=qr?(o(!0),i(!1)):Wr(f).then(m=>{p(m.data)}).catch(()=>{d(!0)}).finally(()=>{i(!1)}):d(!0))},[t,f]),l?a(at,{isIndeterminate:!0,"aria-label":s({message:"Loading file contents"})}):r?a(ne,{...e,message:a(A,{message:"This file is too large to preview."})}):u?a(ne,{...e,message:a(A,{message:"There was an issue previewing this file"})}):a("pre",{className:R("rounded bg-paper p-20 text-sm whitespace-pre-wrap break-words h-full overflow-y-auto w-full",n),children:a("div",{className:"container mx-auto",children:`${c}`})})}function Wr(e){return ze.get(e,{responseType:"text",withCredentials:!1,headers:{Accept:"text/plain"}})}function Gr(e){const{entry:t,className:n}=e,{previewUrl:s}=se(t),r=h.exports.useRef(null),[o,l]=h.exports.useState(!1);return h.exports.useEffect(()=>{var i;l(!((i=r.current)!=null&&i.canPlayType(t.mime)))},[t]),o||!s?a(ne,{...e}):a("video",{className:n,ref:r,controls:!0,controlsList:"nodownload noremoteplayback",playsInline:!0,autoPlay:!0,children:a("source",{src:s,type:t.mime,onError:()=>{l(!0)}})})}function Xr(e){const{entry:t,className:n}=e,{previewUrl:s}=se(t),r=h.exports.useRef(null),[o,l]=h.exports.useState(!1);return h.exports.useEffect(()=>{var i;l(!((i=r.current)!=null&&i.canPlayType(t.mime)))},[t]),o||!s?a(ne,{...e}):a("audio",{className:n,ref:r,controls:!0,controlsList:"nodownload noremoteplayback",autoPlay:!0,children:a("source",{src:s,type:t.mime,onError:()=>{l(!0)}})})}function Qr(e){const{entry:t,className:n}=e,{trans:s}=W(),{previewUrl:r}=se(t);return r?a("iframe",{title:s({message:"Preview for :name",values:{name:t.name}}),className:R(n,"w-full h-full"),src:`${r}#toolbar=0`}):a(ne,{...e})}function qe(e){const{entry:t,className:n}=e,{trans:s}=W(),r=h.exports.useRef(null),[o,l]=h.exports.useState(!1),i=h.exports.useRef(),[u,d]=h.exports.useState(!1),{previewUrl:c}=se(t);return h.exports.useEffect(()=>{c?t.file_size&&t.file_size>25e6?l(!0):r.current&&(r.current.onload=()=>{clearTimeout(i.current),d(!1)},Zr(c,t).then(p=>{r.current&&(r.current.src=p)}),i.current=setTimeout(()=>{l(!0)},5e3)):l(!0)},[t,c]),o?a(ne,{...e}):P("div",{className:R(n,"w-full h-full"),children:[u&&a(at,{}),a("iframe",{ref:r,title:s({message:"Preview for :name",values:{name:t.name}}),className:R("w-full h-full",u&&"hidden")})]})}async function Zr(e,t){const n=new URL(e);if(!n.searchParams.has("shareable_link")){const{data:s}=await ze.post(`file-entries/${t.id}/add-preview-token`);n.searchParams.append("preview_token",s.preview_token)}return Jr(n)}function Jr(e){return`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.toString())}`}const Dt={text:Yr,video:Gr,audio:Xr,image:jr,pdf:Qr,spreadsheet:qe,powerPoint:qe,word:qe,"text/rtf":ne};function ea(e){const t=e==null?void 0:e.mime,n=e==null?void 0:e.type;return Dt[t]||Dt[n]||ne}const ta=K(a("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"}),"ChevronLeftOutlined"),na=2*1024*1024;function sa({file:e,className:t,iconClassName:n,showImage:s=!0}){const{trans:r}=W(),{previewUrl:o}=se(e,{thumbnail:!0});if(e.file_size&&e.file_size>na&&!e.thumbnail&&(s=!1),s&&e.type==="image"&&o){const l=r({message:":fileName thumbnail",values:{fileName:e.name}});return a("img",{className:R(t,"object-cover"),src:o,alt:l,draggable:!1})}return a(Kn,{className:n,type:e.type})}function ra({entries:e,onClose:t,showHeader:n=!0,className:s,headerActionsLeft:r,allowDownload:o=!0,...l}){const i=Ze("(max-width: 1024px)"),[u,d]=ee(l.activeIndex,l.defaultActiveIndex||0,l.onActiveIndexChange),c=e[u],p=h.exports.useMemo(()=>({entries:e,activeIndex:u}),[e,u]),f=ea(c);if(!c)return t==null||t(),null;const m=e.length-1>u,b=()=>{d(u+1)},w=u>0,x=()=>{d(u-1)};return P(dt.Provider,{value:p,children:[n&&a(aa,{actionsLeft:r,isMobile:i,onClose:t,onNext:m?b:void 0,onPrevious:w?x:void 0,allowDownload:o}),P("div",{className:R("overflow-hidden relative flex-auto",s),children:[i&&a(Y,{size:"lg",className:"text-muted absolute left-0 top-1/2 transform -translate-y-1/2 z-10",disabled:!w,onClick:x,children:a(jt,{})}),a(xe,{initial:!1,children:a(ue.div,{className:"absolute inset-0 flex items-center justify-center",...rt,children:a(f,{className:"max-h-[calc(100%-30px)]",entry:c,allowDownload:o})},c.id)}),i&&a(Y,{size:"lg",className:"text-muted absolute right-0 top-1/2 transform -translate-y-1/2 z-10",disabled:!m,onClick:b,children:a(qt,{})})]})]})}function aa({onNext:e,onPrevious:t,onClose:n,isMobile:s,actionsLeft:r,allowDownload:o}){const{entries:l,activeIndex:i}=h.exports.useContext(dt),u=l[i],{downloadUrl:d}=se(u);return P("div",{className:"flex items-center justify-between gap-20 bg-paper border-b flex-shrink-0 text-sm min-h-50 px-10 text-muted",children:[P("div",{className:"flex items-center gap-4 w-1/3 justify-start",children:[r,o?s?a(Y,{onClick:()=>{d&&Qe(d)},children:a(yt,{})}):a(te,{startIcon:a(yt,{}),variant:"text",onClick:()=>{d&&Qe(d)},children:a(A,{message:"Download"})}):void 0]}),P("div",{className:"flex items-center gap-10 w-1/3 justify-center flex-nowrap text-main",children:[a(sa,{file:u,iconClassName:"w-16 h-16",showImage:!1}),a("div",{className:"whitespace-nowrap overflow-hidden overflow-ellipsis",children:u.name})]}),P("div",{className:"w-1/3 flex items-center gap-10 justify-end whitespace-nowrap",children:[!s&&P(h.exports.Fragment,{children:[a(Y,{disabled:!t,onClick:t,children:a(ta,{})}),a("div",{children:i+1}),a("div",{children:"/"}),a("div",{children:l.length}),a(Y,{disabled:!e,onClick:e,children:a(qn,{})}),a("div",{className:"bg-divider w-1 h-24 mx-20"})]}),a(Y,{radius:"rounded-none",onClick:n,children:a(Lt,{})})]})]})}function Sa(e){return a(Oe,{size:"fullscreenTakeover",background:"bg-alt",className:"flex flex-col",children:a(oa,{...e})})}function oa(e){const{close:t}=et();return a(ra,{onClose:t,...e})}const la={key:"type",label:I("Type"),description:I("Type of the file"),defaultOperator:be.eq,control:{type:_.Select,defaultValue:"05",options:[{key:"02",label:I("Text"),value:"text"},{key:"03",label:I("Audio"),value:"audio"},{key:"04",label:I("Video"),value:"video"},{key:"05",label:I("Image"),value:"image"},{key:"06",label:I("PDF"),value:"pdf"},{key:"07",label:I("Spreadsheet"),value:"spreadsheet"},{key:"08",label:I("Word Document"),value:"word"},{key:"09",label:I("Photoshop"),value:"photoshop"},{key:"10",label:I("Archive"),value:"archive"},{key:"11",label:I("Folder"),value:"folder"}]}},Ia=[la,{key:"public",label:I("Visibility"),description:I("Whether file is publicly accessible"),defaultOperator:be.eq,control:{type:_.Select,defaultValue:"01",options:[{key:"01",label:I("Private"),value:!1},{key:"02",label:I("Public"),value:!0}]}},bs({description:I("Date file was uploaded")}),vs({description:I("Date file was last changed")}),{key:"owner_id",label:I("Uploader"),description:I("User that this file was uploaded by"),defaultOperator:be.eq,control:{type:_.SelectModel,model:Tr}}];export{Rs as $,Ve as A,Ke as B,ar as C,ua as D,Da as E,be as F,Us as G,Ia as H,Qs as I,Sa as J,jt as K,ka as L,Ca as M,Xs as N,Xt as O,Gs as P,se as Q,sa as R,Ls as S,ma as T,Tr as U,X as V,ra as W,Kr as X,la as Y,lt as Z,tn as _,ha as a,Ne as a0,Cr as a1,cr as a2,Wt as a3,_t as a4,Zn as a5,us as a6,it as a7,Os as a8,Kt as a9,ta as aa,Gn as ab,fa as b,da as c,_ as d,bs as e,qt as f,Cs as g,Hs as h,pa as i,ga as j,Qe as k,yt as l,ba as m,va as n,Zs as o,Ps as p,wr as q,rr as r,ya as s,wa as t,vs as u,Sr as v,Se as w,xa as x,sr as y,ut as z};
//# sourceMappingURL=file-entry-index-filters.398da9db.js.map
